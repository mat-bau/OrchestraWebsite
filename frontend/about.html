<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1">
	<meta name="description" content="Official website of the Louvain-la-Neuve based Orchestrakot.">
	<link rel="shortcut icon" type="image/x-icon" href="../images/support_graphique/Logo_Orchestrakot_SQUARE.png?v=2"/>
	<title>About - OrchestraKot</title>
	
	<link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,900" rel="stylesheet" type="text/css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
	<link rel="stylesheet" href="style.css">
	
	<style>
		.intro-text {
			text-align: center;
			margin-bottom: 50px;
			color: #ccc;
			font-size: 17px;
			line-height: 1.7;
			max-width: 900px;
			margin-left: auto;
			margin-right: auto;
		}

		.image-slider-container {
			width: 100vw;
			margin-left: calc(-50vw + 50%);
			overflow-x: auto;
			overflow-y: hidden;
			margin-top: 50px;
			margin-bottom: 50px;
			background: linear-gradient(90deg, #1a1a1a 0%, transparent 10%, transparent 90%, #1a1a1a 100%);
			scrollbar-width: none;
			-ms-overflow-style: none; 
			padding-right: 0 !important;
			box-sizing: border-box;
			border-bottom: 1px solid #333;
			padding-bottom: 30px;
			margin-bottom: 30px;
		}
		.image-slider-container::-webkit-scrollbar { display: none; }

		.image-slider { display: flex; width: fit-content; }
		.slider-item { flex: 0 0 auto; width: 500px; height: 350px; margin: 0 5px; }
		.slider-item img { width: 100%; height: 100%; object-fit: cover; box-shadow: 0 4px 12px rgba(0,0,0,0.3); }

		.fullwidth-block.inner-content .container {
			max-width: 1700px;
			width: calc(100% - 60px);
			padding-left: 30px;
			padding-right: 30px;
			margin: 0 auto;
			margin-top: -50px;
		}

		.page-layout {
			display: grid;
			grid-template-columns: 1fr 320px;
			gap: 40px;
			align-items: start;
		}

		.content-column {
			width: 100%;
		}

		.team-column {
			width: 100%;
			position: sticky;
			top: 20px;
		}

		.section-block {
			margin-bottom: 60px;
			padding-bottom: 40px;
			border-bottom: 1px solid #333;
		}

		.section-block:last-child {
			border-bottom: none;
		}

		.section-block h2 {
			color: #ffffff !important;
			font-size: 32px;
			font-weight: 700;
			margin-bottom: 20px;
		}

		.section-block p {
			font-size: 15px;
			line-height: 1.7;
			margin-bottom: 15px;
			color: #ccc;
		}

		.section-block .leading {
			font-size: 16px;
			font-weight: 600;
			color: #e74c3c !important;
		}

		.section-content {
			display: grid;
			grid-template-columns: 1fr 1fr;
			gap: 40px;
			align-items: center;
		}

		.section-content.reverse {
			direction: rtl;
		}

		.section-content.reverse > * {
			direction: ltr;
		}

		.section-text {
			width: 100%;
		}

		.section-media {
			width: 100%;
		}

		.section-media img {
			width: 100%;
			height: auto;
			border-radius: 4px;
			box-shadow: 0 4px 12px rgba(0,0,0,0.3);
		}

		.video-wrapper {
			position: relative;
			width: 100%;
			height: 400px;
			border-radius: 8px;
			overflow: hidden;
			box-shadow: 0 4px 12px rgba(0,0,0,0.3);
		}

		.video-wrapper iframe {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			border: none;
		}

		.team-column h2 {
			color: #ffffff !important;
			font-size: 32px;
			font-weight: 700;
			margin-bottom: 20px;
		}

		.main-title {
			text-align: center;
			color: #ffffff;
			font-size: 72px;
			font-weight: 900;
			margin-bottom: 30px;
			margin-top: 50px;
			letter-spacing: 2px;
		}

		.team-navigation {
			margin-bottom: 20px;
			border-bottom: 1px solid #333;
			padding-bottom: 10px;
		}

		.team-nav-link {
			color: #999;
			text-decoration: none;
			font-size: 14px;
			font-weight: 500;
			margin-right: 20px;
			padding-bottom: 3px;
			transition: all 0.3s ease;
			display: inline-block;
		}

		.team-nav-link:hover {
			color: #e74c3c;
		}

		.team-nav-link.active {
			color: #e74c3c;
			font-weight: 600;
			border-bottom: 2px solid #e74c3c;
		}

		.team-nav-link i {
			font-size: 11px;
			margin-left: 4px;
		}

		.discography-list {
			list-style: none;
			padding: 0;
			margin: 0;
		}

		.discography-list li {
			display: flex;
			gap: 12px;
			margin-bottom: 20px;
			align-items: flex-start;
		}

		.discography-list .cover {
			flex: 0 0 120px;
			width: 120px;
			height: 120px;
			margin: 0;
		}

		.discography-list .cover img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			box-shadow: 0 2px 8px rgba(0,0,0,0.3);
			border-radius: 4px;
		}

		.discography-list .detail {
			flex: 1;
			padding: 0;
			margin: 0;
		}

		.discography-list .detail h3 {
			margin: 0 0 8px 0;
			font-size: 18px;
			line-height: 1.3;
		}

		.discography-list .detail .year,
		.discography-list .detail .track {
			font-size: 14px;
			margin: 4px 0;
			display: block;
			line-height: 1.5;
		}

		.team-member {
			display: none;
			animation: fadeIn 0.4s ease;
		}
		
		.team-member.visible {
			display: flex;
		}
		
		@keyframes fadeIn {
			from {
				opacity: 0;
				transform: translateY(8px);
			}
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}

		.empty-state {
			text-align: center;
			padding: 40px 20px;
			color: #999;
			display: none;
		}
		
		.empty-state.visible {
			display: block;
		}
		
		.empty-state i {
			font-size: 48px;
			margin-bottom: 10px;
			opacity: 0.5;
		}

		@media (max-width: 1199px) {
			.page-layout {
				grid-template-columns: 1fr;
				gap: 60px;
			}

			.team-column {
				position: static;
			}

			.section-content {
				grid-template-columns: 1fr;
			}

			.section-content.reverse {
				direction: ltr;
			}
		}

		@media (max-width: 768px) {
			.main-title {
				font-size: 48px;
			}
			
			.slider-item {
				width: 350px;
				height: 250px;
			}

			.section-block h2 {
				font-size: 28px;
			}

			.video-wrapper {
				height: 250px;
			}
		}
	</style>
</head>

<body>
	<div id="site-content">
		<header class="site-header">
			<div class="container">
				<a href="index.html" id="branding">
					<img src="../images/support_graphique/Logo_Orchestrakot_SQUARE.png" alt="Site Title" class="head_logo">
				</a>

				<nav class="main-navigation">
					<button type="button" class="toggle-menu"><i class="fa fa-bars"></i></button>
					<ul class="menu">
						<li class="menu-item"><a href="index.html">Home</a></li>
						<li class="menu-item current-menu-item"><a href="about.html">About</a></li>
						<li class="menu-item"><a href="gallery.html">Galerie</a></li>
						<li class="menu-item"><a href="videos.html">Vidéos</a></li>
						<li class="menu-item"><a href="planifier.html">Planifier</a></li>
						<li class="menu-item"><a href="contact.html">Contact</a></li>
					</ul>
				</nav>
				<div class="mobile-menu"></div>
			</div>
		</header>

		<main class="main-content">
			<div class="fullwidth-block inner-content">
				<div class="container">
					<h1 class="main-title">Orchestrakot</h1>
					<p class="intro-text">
						Nous sommes un groupe de musique un peu spécial, constitué cette année de 10 internes qui vivent dans le kot et 6 externes. À la base, un pôle de l'Orchestre Symphonique des Etudiants de Louvain (OSEL) le projet a évolué autour
						de l'animation musicale. Désormais, l'essentiel de notre travail est de revoir les musiques contemporaines et d'incorporer des instruments classiques afin
						de vous offrir une expérience unique. 
					</p>

					<div class="image-slider-container">
						<div class="image-slider">
							<div class="slider-item">
								<img src="../images/about/PhotoViolons.jpg" alt="Violons">
							</div>
							<div class="slider-item">
								<img src="../images/about/PhotoSax.jpg" alt="Saxophone">
							</div>
							<div class="slider-item">
								<img src="../images/about/PhotoGuitares.jpg" alt="Guitares">
							</div>
							<div class="slider-item">
								<img src="../images/about/PhotoPiano.jpg" alt="Piano">
							</div>
							<div class="slider-item">
								<img src="../images/about/PhotoViolons.jpg" alt="Violons">
							</div>
							<div class="slider-item">
								<img src="../images/about/PhotoSax.jpg" alt="Saxophone">
							</div>
							<div class="slider-item">
								<img src="../images/about/PhotoGuitares.jpg" alt="Guitares">
							</div>
							<div class="slider-item">
								<img src="../images/about/PhotoPiano.jpg" alt="Piano">
							</div>
						</div>
					</div>

					<div class="page-layout">
						<div class="content-column">
							<div class="section-block">
								<div class="section-content">
									<div class="section-text">
										<h2>Offres musicales personnalisées</h2>
										<p>
											Nous accueillons à bras ouverts les demandes d'animation musicale lors de vos événements, aussi divers soient-ils. 
											Que ce soit pour des kots à projets, pour des particuliers, des remises de diplômes ou encore d'autres activités, nous sommes ouverts à tout!
											Alors n'hésitez pas à nous contacter via notre adresse e-mail ou notre page Facebook / Instagram pour toute demande d'information ou de réservation.
										</p>
									</div>
									<div class="section-media">
										<img id="current-team-photo" src="../images/team/team2025/lequipe2025.jpg" alt="L'équipe OrchestraKot">
									</div>
								</div>
							</div>

							<div class="section-block">
								<div class="section-content reverse">
									<div class="section-text">
										<h2>Concert à la Ferme du Biéreau</h2>
										<p class="leading">L'événement principal de l'OrchestraKot.</p>
										<p>
											Chaque premier quadrimestre, nous faisons une représentation à la Ferme du Biéreau, avec chaque année un thème différent.
											Notre concert c'est quoi ? C'est un concert de 2 heures tenu dans la grange de la Ferme du Biéreau où nous jouons de la
											musique autour d'un thème pour vous ambiancer vous qui venez à cet événement !
										</p>
										<p>
											Il se déroule généralement à la mi-novembre. Cette année, il se déroulera le 13 novembre à 20h.
											Pour être tenu au courant de toutes les modalités, allez sur notre page Facebook. 
										</p>
										<p>Voici le trailer du concert de 2024 pour vous donner un avant goût!</p>
									</div>
									<div class="section-media">
										<div class="video-wrapper">
											<iframe src="https://www.youtube.com/embed/1JbgfiQ49IM" 
												frameborder="0" 
												allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" 
												allowfullscreen>
											</iframe>
										</div>
									</div>
								</div>
							</div>

							<div class="section-block">
								<div class="section-content">
									<div class="section-text">
										<h2>Initiation aux instruments</h2>
										<p class="leading">Jouer sur plus d'une dizaine d'instruments en une soirée? C'est par ici que ça se passe!</p>
										<p>
											L'Orchestrakot permet à tout le monde de découvrir un ou plusieurs nouveaux instruments lors de nos soirées d'initiation. 
											De la batterie à la clarinette en passant par la harpe, nous avons une belle panoplie d'instruments à vous faire (re)découvrir. 
											Chaque membre de l'équipe aura le plaisir de vous apprendre à jouer quelques notes sur son instrument.
										</p>
										<p>
											Avant tout, l'initiation aux instruments est un moment de plaisir et de découverte, le tout dans une ambiance décontractée. 
											Que vous n'ayez jamais touché un instrument ou que vous soyez un musicien aguerri, tous sont les bienvenus!
										</p>
										<p>Pour être tenu au courant de quand et où cela se passe, allez sur notre page Facebook !</p>
									</div>
									<div class="section-media">
										<img src="../images/about/gite-mozaik.jpg" alt="Initiation aux instruments">
									</div>
								</div>
							</div>
						</div>

						<div class="team-column">
							<h2 id="team-title">L'équipe</h2>
							
							<div class="team-navigation">
								<a href="#" id="current-team-link" class="team-nav-link active">
									Équipe actuelle
								</a>
								<a href="gallery.html?path=Nos%20équipes" class="team-nav-link">
									Toutes les équipes
									<i class="fa fa-arrow-right"></i>
								</a>
							</div>

							<ul class="discography-list" id="team-list"></ul>
							
							<div class="empty-state" id="empty-state">
								<i class="fa fa-search"></i>
								<p>Aucun membre trouvé</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</main>

		<footer class="site-footer">
			<div class="container">
				<img src="../images/support_graphique/Logo_Orchestrakot_Rectangle.png" alt="Site Name" class="foot_logo">
				<address>
					<p>1 Rampes des Ardennais, Louvain-la-Neuve, Belgique <br>
					<a href="tel:+32494718552">(+32) 494 71 85 52</a> <br>
					<a href="mailto:orchestrakot.ucl@gmail.com">orchestrakot.ucl@gmail.com</a></p>
				</address>
				<div class="social-links">
					<a href="https://www.facebook.com/orchestrakot/"><i class="fa-brands fa-facebook"></i></a>
					<a href="https://www.instagram.com/orchestrakot/?hl=en"><i class="fa-brands fa-instagram"></i></a>
				</div>
			</div>
		</footer>
	</div>

	<script src="../js/jquery-1.11.1.min.js"></script>
	<script src="../js/plugins.js"></script>
	<script src="../js/app.js"></script>
	
	<script>
		let teamProfiles = null;
		const currentSchoolYear = getCurrentSchoolYear();

		function getCurrentSchoolYear() {
			const now = new Date();
			const year = now.getFullYear();
			const month = now.getMonth() + 1;
			return (month >= 1 && month <= 8) ? `${year - 1}-${year}` : `${year}-${year + 1}`;
		}

		async function loadTeamProfiles() {
			try {
				const response = await fetch('/team-profiles.json');
				if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
				teamProfiles = await response.json();
				renderCurrentTeam();
			} catch (error) {
				console.error('Erreur chargement profils:', error);
				document.getElementById('team-list').innerHTML = '<li style="color: #999; padding: 20px;">Impossible de charger l\'équipe</li>';
			}
		}

		function isMemberInCurrentYear(member) {
			const [startYear] = currentSchoolYear.split('-').map(Number);
			return member.annee_debut <= startYear && startYear < member.annee_fin;
		}

		function getCurrentYearImage(member) {
			const [startYear] = currentSchoolYear.split('-').map(Number);
			const yearIndex = startYear - member.annee_debut;
			return (yearIndex >= 0 && yearIndex < member.images.length) ? member.images[yearIndex] : member.images[member.images.length - 1];
		}

		function getCurrentYearRole(member) {
			if (typeof member.roles === 'object' && member.roles !== null && !Array.isArray(member.roles)) {
				return member.roles[currentSchoolYear] || "";
			}
			return typeof member.roles === 'string' ? member.roles : "";
		}

		function getCurrentYearStudies(member) {
			if (typeof member.etudes === 'object' && member.etudes !== null && !Array.isArray(member.etudes)) {
				return member.etudes[currentSchoolYear] || "";
			}
			return typeof member.etudes === 'string' ? member.etudes : "";
		}

		function normalizeRole(role) {
			return role.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "");
		}

		function renderCurrentTeam() {
			const teamList = document.getElementById('team-list');
			const currentMembers = teamProfiles.members.filter(isMemberInCurrentYear);
			
			if (currentMembers.length === 0) {
				teamList.innerHTML = '<li style="color: #999; padding: 20px;">Aucun membre pour cette année</li>';
				return;
			}
			
			const ROLE_PRIORITY = {
				"president": 0,
				"vice-president": 1,
				"tresorier": 2,
				"tresoriere": 2,
				"secretaire": 3
			};
			
			currentMembers.sort((a, b) => {
				const roleA = normalizeRole(getCurrentYearRole(a));
				const roleB = normalizeRole(getCurrentYearRole(b));
				const priorityA = ROLE_PRIORITY[roleA] ?? 999;
				const priorityB = ROLE_PRIORITY[roleB] ?? 999;
				return priorityA !== priorityB ? priorityA - priorityB : a.name.localeCompare(b.name);
			});
			
			const html = currentMembers.map(member => {
				const imagePath = getCurrentYearImage(member);
				const instruments = member.instruments.join(', ');
				const currentRole = getCurrentYearRole(member);
				const currentStudies = getCurrentYearStudies(member);
				
				return `
					<li class="team-member visible">
						<figure class="cover">
							<a href="gallery.html?path=${encodeURIComponent('Nos équipes/Par instrument/' + member.instruments[0])}">
								<img src="../${imagePath}" alt="${member.name}">
							</a>
						</figure>
						<div class="detail">
							<h3>
								<a href="gallery.html?path=${encodeURIComponent('Nos équipes/Par instrument/' + member.instruments[0])}">${member.name}</a>
							</h3>
							<span class="year">${instruments}</span>
							${currentRole ? `<span class="track">${currentRole}</span>` : ''}
							${currentStudies ? `<span class="track">${currentStudies}</span>` : ''}
						</div>
					</li>
				`;
			}).join('');
			
			teamList.innerHTML = html;
		}

		function updateTitle() {
			const title = document.getElementById('team-title');
			const currentTeamLink = document.getElementById('current-team-link');
			const galleryPath = `Nos équipes/Par années/${currentSchoolYear}`;
			
			title.innerHTML = `<a href="gallery.html?path=${encodeURIComponent(galleryPath)}" style="color: inherit; text-decoration: none;">L'équipe ${currentSchoolYear}</a>`;
			if (currentTeamLink) currentTeamLink.href = `gallery.html?path=${encodeURIComponent(galleryPath)}`;
		}

		async function loadCurrentTeamPhoto() {
			try {
				const response = await fetch('../team-profiles.json');
				const data = await response.json();
				
				if (data.team_photos && data.team_photos[currentSchoolYear]) {
					document.getElementById('current-team-photo').src = '../' + data.team_photos[currentSchoolYear];
				}
			} catch (error) {
				console.error('Erreur chargement photo équipe:', error);
			}
		}

		document.addEventListener('DOMContentLoaded', function() {
			loadTeamProfiles();
			loadCurrentTeamPhoto();
			updateTitle();
		});
	</script>
</body>
</html>